### **HOC** ∶

高阶组件（HOC）是 React 中用于复用组件逻辑的一种高级技巧。HOC 自身不是 React API 的一部分，它是一种基于 React 的组合特性而形成的设计模式，HOC是一种组件的设计模式，HOC接受一个组件和额外的参数（如果需要），返回一个新的组件。HOC 是纯函数，没有副作用。**里氏替换原则**

高阶组件：可以在在定义高阶组件的时候，可以传入第二个api（比如说网络请求的接口，都有网络接口的调用），非常的灵活，同样在高阶函数中外层函数定义一些方法props透传到下层函数，或者属性劫持、**反向继承**：让返回的组件继承与传入的组件。

普通写法

装饰器写法

HOC的优缺点∶

- 优点∶     逻辑服用、不影响被包裹组件的内部逻辑。
- 缺点∶     hoc传递给被包裹组件的props容易和被包裹后的组件重名，进而被覆盖

### **Render props** ∶

给子组件传递一个jsx，子组件把自己的一些状态作为参数传入，即可渲染不同视图

"render prop"是指一种在 React 组件之间使用一个值为函数的 prop 共享代码的简单技术

具有render prop 的组件接受一个返回React元素的函数，将render的渲染逻辑注入到组件内部。在这里，"render"的命名可以是任何其他有效的标识符。

由此可以看到，render props的优缺点也很明显∶

- 优点：数据共享、代码复用，将组件内的state作为props传递给调用者，将渲染逻辑交给调用者。
- 缺点：无法在 return     语句外访问数据、嵌套写法不够优雅

### **Hooks** ∶

Hook是 React 16.8 的新增特性。它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性。通过自定义hook，可以复用代码逻辑。 

- 解决hoc的prop 重名问题；
- 解决render props     因共享数据 而出现嵌套地狱的问题；
- 能在return之外使用数据的问题。

需要注意的是：hook只能在组件顶层使用，不可在分支语句中使用。

**总结∶** Hoc、render props和hook都是为了解决代码复用的问题，但是hoc和render props都有特定的使用场景和明显的缺点。hook是react16.8更新的新的API，让组件逻辑复用更简洁明了，同时也解决了hoc和render props的一些缺点。